<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Produto | InfoTech IFPB</title>
    <link rel="stylesheet" href="./static/style.css">
    <style>
        .produto-detalhe {
            display: flex;
            gap: 40px;
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
            background: #fff;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-top: 40px;
            margin-bottom: 40px;
        }

        .produto-imagem {
            flex: 1;
            max-width: 500px;
        }

        .produto-imagem img {
            width: 100%;
            border-radius: 10px;
            transition: transform 0.3s ease;
        }

        .produto-imagem img:hover {
            transform: scale(1.02);
        }

        .produto-info {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .produto-info h2 {
            font-size: 2.5rem;
            color: #333;
            margin-bottom: 10px;
        }

        .categoria-tag {
            display: inline-block;
            background: #f0f0f0;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 20px;
            text-transform: uppercase;
        }

        .produto-descricao {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #555;
            margin-bottom: 30px;
        }

        .produto-precos {
            margin-bottom: 30px;
        }

        .preco-antigo {
            text-decoration: line-through;
            color: #999;
            font-size: 1.2rem;
        }

        .preco-novo {
            color: #27ae60;
            font-size: 2.5rem;
            font-weight: bold;
        }

        .btn-comprar-detalhe {
            background: #27ae60;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            width: fit-content;
        }

        .btn-comprar-detalhe:hover {
            background: #219150;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }

        @media (max-width: 768px) {
            .produto-detalhe {
                flex-direction: column;
                padding: 20px;
            }

            .produto-imagem {
                max-width: 100%;
            }
        }
    </style>
</head>

<body>

    <header class="topo">
        <div class="logo-area">
            <img src="img/if-logo.png" alt="IFPB" class="logo">
            <h1>InfoTech Store</h1>
        </div>
        <nav class="menu">
            <a href="index.html">In√≠cio</a>
            <a href="servico.html">Servi√ßos</a>
            <a href="chamado.html">Chamado</a>
            <a href="loja.html">Loja</a>
            <span class="carrinho">üõí Carrinho (0)</span>
        </nav>
    </header>

    <main>
        <div id="produto-container">
            <!-- Conte√∫do ser√° carregado via JS -->
            <div style="text-align: center; padding: 100px;">
                <h2>Carregando produto...</h2>
            </div>
        </div>
    </main>

    <footer>
        <p>¬© 2025 - InfoTech IFPB</p>
    </footer>

    <!-- MODAL DO CARRINHO -->
    <div id="modal-carrinho" class="modal-carrinho">
        <div class="modal-content">
            <span class="fechar-modal">&times;</span>
            <h2>Seu Carrinho</h2>
            <div id="itens-carrinho" class="itens-carrinho">
                <p>O carrinho est√° vazio.</p>
            </div>
            <div class="total-carrinho">
                Total: R$ <span id="valor-total">0,00</span>
            </div>
            <button class="btn-finalizar">Finalizar Compra</button>
        </div>
    </div>

    <script src="./js/products.js"></script>
    <script src="./js/script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log("P√°gina de produto carregada.");
            const params = new URLSearchParams(window.location.search);
            const productId = params.get('id');
            const container = document.getElementById('produto-container');

            if (productId) {
                if (typeof productsData === 'undefined') {
                    console.error("Erro: productsData n√£o definido em produto.html");
                    container.innerHTML = '<div style="text-align: center; padding: 100px;"><h2>Erro ao carregar dados do produto.</h2><p>Verifique se o arquivo js/products.js foi carregado.</p></div>';
                    return;
                }

                const product = productsData.find(p => p.id === productId);

                if (product) {
                    console.log("Produto encontrado:", product.name);
                    document.title = `${product.name} | InfoTech Store`;

                    container.innerHTML = `
                        <div class="produto-detalhe">
                            <div class="produto-imagem">
                                <img src="${product.image}" alt="${product.name}">
                            </div>
                            <div class="produto-info">
                                <span class="categoria-tag">${product.category}</span>
                                <h2>${product.name}</h2>
                                <div class="produto-precos">
                                    ${product.oldPrice ? `<p class="preco-antigo">R$ ${product.oldPrice.toFixed(2).replace('.', ',')}</p>` : ''}
                                    <p class="preco-novo">R$ ${product.price.toFixed(2).replace('.', ',')}</p>
                                </div>
                                <p class="produto-descricao">${product.description}</p>
                                <button class="btn-comprar-detalhe add-carrinho" 
                                    data-nome="${product.name}" 
                                    data-preco="${product.price}">
                                    Adicionar ao Carrinho
                                </button>
                            </div>
                        </div>
                    `;
                } else {
                    console.warn("Produto n√£o encontrado com ID:", productId);
                    container.innerHTML = '<div style="text-align: center; padding: 100px;"><h2>Produto n√£o encontrado.</h2><a href="loja.html">Voltar para a loja</a></div>';
                }
            } else {
                console.warn("Nenhum ID de produto fornecido na URL.");
                container.innerHTML = '<div style="text-align: center; padding: 100px;"><h2>Nenhum produto selecionado.</h2><a href="loja.html">Ir para a loja</a></div>';
            }
        });
    </script>
    <script> window.chtlConfig = { chatbotId: "8385398469" } </script>
    <script async data-id="8385398469" id="chtl-script" type="text/javascript"
        src="https://chatling.ai/js/embed.js"></script>
</body>

</html>